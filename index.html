<!-- index.html -->
<form id="loginForm">
  <input type="email" id="email" placeholder="Correo" required />
  <input type="password" id="password" placeholder="Contraseña" required />
  <button type="submit">Ingresar</button>
</form>
<p id="errorMsg"></p>

<script type="module">
  import { auth, signInWithEmailAndPassword } from "./firebase.js";

  document.getElementById("loginForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    try {
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;
      localStorage.setItem("userEmail", user.email);
      window.location.href = "escritorio.html";
    } catch (error) {
      document.getElementById("errorMsg").innerText = "Error al iniciar sesión";
    }
  });
</script>
